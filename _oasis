OASISFormat: 0.4
Name:        bin2json
Version:     1.0.0
Synopsis:    Converts an ELF, mach-o, or PE binary to a JSON representation
Authors:     m4b
Maintainers: m4b.github.io@gmail.com
Homepage:    http://github.com/m4b/bin2json
License:     BSD-3-clause
Plugins:     META (0.4), DevFiles (0.4)
Description: This program converts an ELF, mach-o, or PE binary to a JSON representation using rdr as the backend.  Optionally minifies, converts the binary to a base64 representation, and/or includes the byte coverage analysis generated by rdr.

Library json
  Path: lib/json
  BuildTools: ocamlbuild
  Install: false
  BuildDepends:
    jsonm,
    rdr
  Modules:
    B2J_Json,
    B2J_ByteCoverage,
    B2J_Config

Library mach2json
  Path: lib/mach
  BuildTools: ocamlbuild
  Install: false
  BuildDepends:
    json,
    base64,
    rdr,
    rdr.mach
  Modules:
    B2J_MachHeader,
    B2J_MachLoadCommand,
    B2J_MachLoadCommandTypes,
    B2J_MachExport,
    B2J_MachImport,
    B2J_MachSymbolTable

Library elf2json
  Path: lib/elf
  BuildTools: ocamlbuild
  Install: false
  BuildDepends:
    json,
    base64,
    rdr,
    rdr.elf
  Modules:
    B2J_Elf,
    B2J_ElfHeader,
    B2J_ElfProgramHeader,
    B2J_ElfSectionHeader,
    B2J_ElfSymbolTable,
    B2J_ElfDynamic,
    B2J_ElfReloc

Library pe2json
  Path: lib/pe
  BuildTools: ocamlbuild
  Install: false
  BuildDepends:
    json,
    base64,
    rdr,
    rdr.pe
  Modules:
    B2J_PE,
    B2J_PEHeader,
    B2J_PESectionTable,
    B2J_PEExport,
    B2J_PEImport

Library b2jlib
  Path: lib
  BuildTools: ocamlbuild
  Install: false
  BuildDepends:
    json,
    mach2json,
    elf2json,
    pe2json,
    base64,
    rdr,
    rdr.elf,
    rdr.mach,
    rdr.pe
  Modules:
    B2J

Executable bin2json
  Path:       src
  BuildTools: ocamlbuild
  MainIs:     bin2json.ml
  CompiledObject: best
  BuildDepends:
    json,
    b2jlib,
    rdr,
    rdr.elf

Test "test_other"
  Command: test/test.sh